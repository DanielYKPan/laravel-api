<div class="cart">
    <div class="cart-header">
        <h1>Shopping Cart</h1>
    </div>
    <form class="cart-form" name="cartForm" novalidate>
        <div class="cart-switch-container" data-ng-switch on="cart.qty">
            <div class="cart-empty" data-ng-switch-when="0">
                <h3>Your shopping cart is currently empty. why not take advantage of our latest offers.</h3>
            </div>
            <div class="cart-filled" data-ng-switch-default>
                <div class="cart-table">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th class="col-sm-5">Products from EasyWine's</th>
                            <th class="col-sm-3">Quantity</th>
                            <th class="col-sm-2">Price</th>
                            <th class="col-sm-2">Total</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr data-ng-repeat="item in cart.items">
                            <td class="item_inform">
                                <div class="row">
                                    <div class="col-md-1">
                                        <i class="fa fa-times-circle fa-3x" data-ng-click="removeItem(item)"></i>
                                    </div>
                                    <div class="col-md-3">
                                        <img data-ng-src="uploads/images/wines/260/{{item.image}}" class="cart-wine-img img-responsive">
                                    </div>
                                    <div class="col-md-6">
                                        <h4>{{item.name}}</h4>
                                    </div>
                                </div>
                            </td>
                            <td class="item_qty">
                                <div class="form-group" ng-form name="qtyForm">
                                    <input type="number" class="form-group"
                                           name="qty" data-ng-model="item.qty" required
                                           data-ng-pattern="/^[1-9]{1,3}$/" min="0">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            {{item.qty_unit}}(s) <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu" role="menu">
                                            <li data-ng-click="switchQtyUnit(item, 'case')"><a>case(s)</a></li>
                                            <li data-ng-click="switchQtyUnit(item, 'bottle')"><a>bottle(s)</a></li>
                                        </ul>
                                    </div>
                                    <span class="text-danger" ng-show="qtyForm.qty.$error.required">Required!</span>
                            <span class="text-danger"
                                  ng-show="qtyForm.qty.$error.pattern">
                                only positive digits
                            </span>
                            <span class="text-success"
                                  data-ng-show="qtyForm.$valid && qtyForm.$dirty && item.qty"
                                  data-ng-click="updateCart()"  >
                                update cart!<i class="fa fa-pencil"></i>
                            </span>
                                </div>
                            </td>
                            <td>{{item.discount_price | currency: 'AD$' : 2}}</td>
                            <td>{{showAmount(item) | currency: 'AD$' : 2}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </form>
</div>
